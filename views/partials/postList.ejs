<div class="space-y-4">
    <!-- Header -->
    <div class="flex items-center justify-between">
        <div>
            <h2 class="text-xl font-bold text-gray-900">
                <%= safeCurrentLanguage === 'de' ? 'Aktuelle Beitr√§ge' : 'Recent Posts' %>
            </h2>
            <p class="text-gray-600">
                <%= safeCurrentLanguage === 'de' 
                    ? 'Neueste Diskussionen in der Community' 
                    : 'Latest discussions in the community' 
                %>
            </p>
        </div>
        
        <% if (currentUser) { %>
            <a href="/posts/new" 
               class="flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors">
                <span>+</span>
                <span><%= safeCurrentLanguage === 'de' ? 'Neuer Beitrag' : 'New Post' %></span>
            </a>
        <% } %>
    </div>

    <!-- Posts -->
    <% if (posts.length === 0) { %>
        <div class="text-center py-12">
            <div class="text-gray-400 text-6xl mb-4">üìù</div>
            <h3 class="text-lg font-medium text-gray-900 mb-2">
                <%= safeCurrentLanguage === 'de' ? 'Keine Beitr√§ge gefunden' : 'No posts found' %>
            </h3>
            <p class="text-gray-600">
                <%= safeCurrentLanguage === 'de' 
                    ? 'Versuchen Sie, Ihre Suchkriterien zu √§ndern' 
                    : 'Try changing your search criteria' 
                %>
            </p>
        </div>
    <% } else { %>
        <div class="space-y-4">
            <% posts.forEach(post => { %>
                <div class="bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow">
                    <div class="flex items-start justify-between mb-3">
                        <div class="flex items-center space-x-3">
                            <div class="w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center">
                                <% if (post.is_anonymous) { %>
                                    <span class="text-gray-600">üé≠</span>
                                <% } else { %>
                                    <span class="text-gray-600">üë§</span>
                                <% } %>
                            </div>
                            <div>
                                <h3 class="font-semibold text-gray-900">
                                    <a href="/posts/<%= post.id %>" class="hover:text-blue-600">
                                        <%= post.title %>
                                    </a>
                                </h3>
                                <p class="text-sm text-gray-600">
                                    <%= safeCurrentLanguage === 'de' ? 'Von' : 'By' %> 
                                    <span class="font-medium">
                                        <%= post.is_anonymous 
                                            ? (safeCurrentLanguage === 'de' ? 'Anonym' : 'Anonymous')
                                            : post.username 
                                        %>
                                    </span>
                                    ‚Ä¢ <%= new Date(post.created_at).toLocaleDateString() %>
                                </p>
                            </div>
                        </div>
                        
                        <span class="px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm">
                            <% categories.forEach(cat => { %>
                                <% if (cat.id === post.category) { %>
                                    <%= safeCurrentLanguage === 'de' ? cat.nameDE : cat.name %>
                                <% } %>
                            <% }) %>
                        </span>
                    </div>

                    <p class="text-gray-700 mb-4 line-clamp-3">
                        <%= post.content.substring(0, 200) %>
                        <% if (post.content.length > 200) { %>...<% } %>
                    </p>

                    <div class="flex items-center justify-between text-sm text-gray-600">
                        <div class="flex items-center space-x-4">
                            <div class="flex items-center space-x-1">
                                <span>üëç</span>
                                <span><%= post.votes_count || 0 %></span>
                            </div>
                            <div class="flex items-center space-x-1">
                                <span>üí¨</span>
                                <span><%= post.comments_count || 0 %> 
                                    <%= safeCurrentLanguage === 'de' ? 'Kommentare' : 'comments' %>
                                </span>
                            </div>
                        </div>
                        
                        <a href="/posts/<%= post.id %>" 
                           class="text-blue-600 hover:text-blue-800 font-medium">
                            <%= safeCurrentLanguage === 'de' ? 'Weiterlesen' : 'Read more' %> ‚Üí
                        </a>
                    </div>
                </div>
            <% }) %>
        </div>
    <% } %>
</div>